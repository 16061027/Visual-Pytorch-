# 函数说明

## generate_n_blanks

```python
generate_n_blanks(n)->string
```

返回一个字符串，由n*4个空格构成

- 参数：n (int) ->输入TAB键的个数

## add_static_info

```python
add_static_info(main, glob)->string
```

处理神经网络模型的全局变量和基本参数

参数：

- main (string) -> 把一些字拼接到main中，并且作为函数返回值

- glob (string) -> 为前端返回的模型参数

## generate_variable_name

```python
generate_variable_name(layer_name)->string
```

生成神经网络层的名字

- 参数：layer_name (string) ->神经网络层的名字

## add_import_info

```python
add_import_info()->string,string,string
```

添加神经网络模型的import部分，引入PyTorch库

## add_init_info

```python
add_init_info()->string
```

添加神经网络模型的固定代码部分

## find_next_edge

```python
find_next_edge(network, point_name)->string
```

根据结点ID，即point_name。找到具体的结点数据并返回该数据

参数：

- network (list)->神经网络模型的相关数据和参数，存储了所有结点的信息
- point_name (string) ->结点名称

## update_layer_used_time

```python
update_layer_used_time(layer)
```

更新神经网络层的使用次数

## generate_layer_name

```python
genetate_layer_name(layer_name)->string
```

生成Forward函数中的网络层的名称

- 参数：layer_name (string) ->网络层名称

## add_linear_to_init_forward

```python
add_linear_to_init_forward(init, forward, in_data, out_data, node)->init, forward
```

添加全连接层代码

参数：

- init (string) ->存储神经网络模型init函数的内容，此处为在该函数中拼接一个全连接层
- forward (string) ->存储神经网络模型forward函数的内容，此处为在该函数中拼接一个全连接层
- in_data (string) ->输入数据的名称
- out_data (string) ->输出数据的名称
- node (dictionary) ->存储该结点的数据信息，各项参数值。

## parse_shape

```python
parse_shape(str_shape)->string
```

分隔shape数据

- 参数：(str_shape) - >从前端获得的shape数据

## add_view_to_init_forward

```python
add_view_to_init_forward(init, forward, in_data, out_data, node)->init, forward
```

添加reshape层代码

参数：

- init (string) ->存储神经网络模型init函数的内容，此处为在该函数中拼接一个reshape层
- forward (string) ->存储神经网络模型forward函数的内容，此处为在该函数中拼接一个reshape层
- in_data (string) ->输入数据的名称
- out_data (string) ->输出数据的名称
- node (dictionary) ->存储该结点的数据信息，各项参数值。

## add_convlayer_to_init_forward

```python
add_convlayer_to_init_forward(init, forward, in_data, out_data, node)->init, forward
```

添加卷积层代码

参数：

- init (string) ->存储神经网络模型init函数的内容，此处为在该函数中拼接一个卷积层
- forward (string) ->存储神经网络模型forward函数的内容，此处为在该函数中拼接一个卷积层
- in_data (string) ->输入数据的名称
- out_data (string) ->输出数据的名称
- node (dictionary) ->存储该结点的数据信息，各项参数值。

## add_one_layer

```python
add_one_layer(init, forward, in_data, out_data, node)
```

添加一个神经网络层

参数：

- init (string) ->存储神经网络模型init函数的内容，此处为在该函数中拼接一个具体的神经网络层
- forward (string) ->存储神经网络模型forward函数的内容，此处为在该函数中拼接一个具体的神经网络层
- in_data (string) ->输入数据的名称
- out_data (string) ->输出数据的名称
- node (dictionary) ->存储该结点的数据信息，各项参数值。

## find_start

```python
find_start(network, start)->string
```

找到神经网络模型的起始结点，返回该节点的标识符

参数：

- network (list) ->神经网络模型的相关数据和参数，存储了所有结点的信息
- start (string) ->起始结点的名称

## add_net_info

```python
add_net_info(network)->string
```

分析处理网络模型数据，生成模型代码，返回一个字符串

- 参数：network (list) ->神经网络模型的相关数据和参数，存储了所有结点的信息

## main_func

```python
main_func(edge_record)->string, string, string
```

前端在获得了神经网络模型的相关数据后只需要调用该接口，即可实现神经网络模型代码的生成

- 参数：edge_record (json) ->包含全局参数的神经网络模型的相关数据和参数
- edge_record：是一个json数组，每个数组元素对应用户连接的一条边，同时记录了两个端点的字段信息，还附加了一个区别于其他端点的id字段，name字段表明该端点连接的层的类型。